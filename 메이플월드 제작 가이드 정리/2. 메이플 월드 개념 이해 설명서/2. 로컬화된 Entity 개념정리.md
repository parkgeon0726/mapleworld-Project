클라이언트에서만 생성되는 로컬화된 엔티티에 대해 알아보자
# 로컬화된 엔티티
**==로컬화된 엔티티(Localized Entity)==** 란 클라이언트에서만 생성되는 엔티티를 의미함 
Hierarchy 창에서는 ![[Pasted image 20250818162628.png]]가 표시된 엔티티로 구분되어 표시됨  
메이플스토리 월드의 엔티티는 기본적으로 서버와 클라이언트에서 각각 생성됨 
이는 쉬운 멀티 플레이 월드 제작을 돕기 위함임 
그러나 서버에 생성되는 엔티티가 많아질수록 서버의 부담이 늘어나게 됨 
만약 서버에서 관리할 필요가 없는 엔티티라면 클라이언트에서만 생성되도록 로컬화된 엔티티로 제작할 수 있음  
월드의 꾸미기 요소로 사용하는 엔티티나 데이터를 저장하지 않아도 되는 엔티티를 로컬화하면, 서버-클라이언트 간의 동기화와 통신을 적게 사용함으로써 더욱 효율적으로 월드를 만들 수 있음
로컬화된 엔티티를 사용할 때는 4가지 유의 사항을 염두에 두고 사용해야 함
1. **부모-자식** 관계에 영향을 받음 ,  부모 엔티티를 로컬화된 엔티티로 변경하면 자식 엔티티 모두 동일하게 변경됨
2. **서버 실행제어 함수**를 사용할 수 없음
3. 서버에서 검증 작업을 할 수 없으므로 변조, 해킹에 취약함 ,  월드 생태계에서 중요한 역할을 하는 엔티티의 경우 로컬화된 엔티티로 사용하지 않도록 주의해야 함
4. **PortalComponent**의 경우 로컬화된 엔티티에서 사용할 수 없음 ,  또한 서버 기능을 사용하는 컴포넌트의 경우 일부 기능이 정상적으로 동작하지 않을 수 있음
# 로컬화된 엔티티 만들기
서버와 동기화되는 기본 엔티티를 로컬화된 엔티티로 사용하는 방법은 3가지임
#### Localize 프로퍼티 활성화
**Localize** 프로퍼티를 활용해 엔티티를 로컬화할 수 있음 
이 프로퍼티는 World 하위에 생성하는 엔티티에서만 활성화됨
이 기능을 활성화하면 Scene에 직접 엔티티를 배치했더라도 클라이언트에서만 생성됨  
**Hierarchy - World - maps** 하위에 배치한 엔티티를 **프로퍼티 창 - 모델 프로퍼티**에서 `Localize` 활성화 ㄱㄱ
![[Pasted image 20250818162934.png]]

#### UI 엔티티로 생성
**ui - UI Group**에 생성되는 **UI엔티티**는 클라이언트에서만 생성이 됨 
UI 엔티티의 경우 기본값이 로컬화된 상태이므로 프로퍼티 에디터 창에 Localize 프로퍼티가 없음
![[Pasted image 20250818162951.png]]

#### SpawnService 활용한 동적 생성
클라이언트 공간에서 `SpawnService`를 호출해 로컬화된 엔티티를 동적으로 생성할 수 있음 
동적으로 엔티티를 생성할 때는 생성할 엔티티의 수만큼 SpawnService를 호출해야 함 
이는 월드 제작 효율성을 저하시킬 수 있으므로 필요할 때만 사용하는 것이 좋음
